\secrel{A Lightweight, Built-In First Half of a Parser\\
\ru{Легковесная встроенная часть парсера}}

These problems make parsing a worthy topic in its own right, and entire books,
tools, and courses are devoted to it.
\ru{Эти проблемы делают разбор достойной темой саму по себе, и ей посвящены
целые книги, утилиты и учебные курсы, например первая глава ``Книги Дракона''
\cite{dragon}.}
However, from our perspective parsing is mostly a distraction, because we want
to study the parts of programming languages that are not parsing.
\ru{Однако, с нашей точки зрения тема парсинга является сильным отвлечением,
так как есть другие более достойные темы, касающиеся реализации языков
программирования.}
We will therefore exploit a handy feature of \racket\ to manage the
transformation of input streams into trees: 
\ru{Поэтому мы сделаем финт ушами, и будем использовать встроенную фичу
\racket а для получения готовых деревьев разбора из входного потока: функцию}
\verb|read|.
\verb|read| is tied to the parenthetical form of the language, in that it parses
fully (and hence unambiguously) parenthesized terms into a built-in tree form.
\verb|read| \ru{привязана к скобочной форме языка, и полностью (и следовательно
однозначно) разбирает скобочные выражения во встроенное представление\ ---
дерево.}
For instance, running \ru{Например применение} \verb|(read)| on the
parenthesized form of the above input \ru{к следующему входному потоку символов
(включающему скобки)}\ ---
\begin{verbatim}
(+ 23 (- 5 6))
\end{verbatim}
--- will produce a list, whose first element is the symbol \ru{создаст список, в
котором первым элементом будет символ} \verb|'+|, second element is the number
\ru{вторым элементом число} 23, and third element is a list \ru{и третий
элемент список}: this list’s first element is the
symbol \ru{в котором первым элемент будет} \verb|'-|, second element is the
number \ru{второй элемент число} 5, and third element is the number \ru{и
третий элемент число} 6.

\fig{\ru{Дерево разбора для} (+ 23 (- 5 6))}{tmp/2_1.pdf}{height=0.9\textheight}

\lst{2/p10_1.rkt}
